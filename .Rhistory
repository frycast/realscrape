library(realscrape)
suburbs_by_council <- list(
MAROONDAH = list(
c("Bayswater+North",      "3153"),
c("Croydon"        ,      "3136"),
c("Croydon+Hills"  ,      "3136"),
c("Croydon+North"  ,      "3136"),
c("Croydon+South"  ,      "3136"),
c("Heathmont"      ,      "3135"),
c("Kilsyth+South"  ,      "3137"),
c("Ringwood"       ,      "3134"),
c("Ringwood+East"  ,      "3135"),
c("Ringwood+North" ,      "3134"),
c("Warranwood"     ,      "3134")),
KNOX = list(
c("Bayswater"           , "3153"),
c("Boronia"             , "3155"),
c("Ferntree+Gully"      , "3156"),
c("Knoxfield"           , "3180"),
c("Lysterfield"         , "3156"),
c("Rowville"            , "3178"),
c("Scoresby"            , "3179"),
c("The+Basin"           , "3154"),
c("Upper+Ferntree+Gully", "3156"),
c("Wantirna"            , "3152"),
c("Wantirna+South"      , "3152")),
WHITEHORSE = list(
c("Blackburn"      ,      "3130"),
c("Blackburn+North",      "3130"),
c("Blackburn+South",      "3130"),
c("Box+Hill"       ,      "3128"),
c("Box+Hill+North" ,      "3129"),
c("Box+Hill+South" ,      "3128"),
c("Burwood"        ,      "3125"),
c("Burwood+East"   ,      "3151"),
c("Forest+Hill"    ,      "3131"),
c("Mitcham"        ,      "3132"),
c("Mont+Albert"    ,      "3127"),
c("Nunawading"     ,      "3131"),
c("Surrey+Hills"   ,      "3127"),
c("Vermont"        ,      "3133"),
c("Vermont+South"  ,      "3133")),
BOROONDARA = list(
c("Ashburton"        ,    "3147"),
c("Balwyn"           ,    "3103"),
c("Balwyn+North"     ,    "3104"),
c("Camberwell"       ,    "3124"),
c("Canterbury"       ,    "3126"),
c("Deepdene"         ,    "3103"),
c("Glen+Iris"        ,    "3146"),
c("Hawthorn"         ,    "3122"),
c("Hawthorn+East"    ,    "3123"),
c("Kew"              ,    "3101"),
c("Kew+East"         ,    "3102"),
c("Mont+Albert"      ,    "3127"),
c("Mont+Albert+North",    "3127"),
c("Surrey+Hills"     ,    "3127")),
BANYULE = list(
c("Bellfield"          ,  "3081"),
c("Briar+Hill"         ,  "3088"),
c("Bundoora"           ,  "3083"),
c("Eaglemont"          ,  "3084"),
c("Eltham"             ,  "3095"),
c("Eltham+North"       ,  "3095"),
c("Greensborough"      ,  "3088"),
c("Heidelberg"         ,  "3084"),
c("Heidelberg+Heights" ,  "3081"),
c("Heidelberg+West"    ,  "3081"),
c("Ivanhoe"            ,  "3079"),
c("Ivanhoe+East"       ,  "3079"),
c("Lower+Plenty"       ,  "3093"),
c("Macleod"            ,  "3085"),
c("Montmorency"        ,  "3094"),
c("Rosanna"            ,  "3084"),
c("St+Helena"          ,  "3088"),
c("Viewbank"           ,  "3084"),
c("Watsonia"           ,  "3087"),
c("Watsonia+North"     ,  "3087"),
c("Yallambie"          ,  "3085")),
DAREBIN = list(
c("Alphington"         ,  "3078"),
c("Bundoora"           ,  "3083"),
c("Fairfield"          ,  "3078"),
c("Kingsbury"          ,  "3083"),
c("Macleod"            ,  "3085"),
c("Northcote"          ,  "3070"),
c("Preston"            ,  "3072"),
c("Reservoir"          ,  "3073"),
c("Thornbury"          ,  "3071"))
)
STA3LM_suburbs_by_council <- list(
MAROONDAH = list(
c("Bayswater+North",      "3153"),
c("Croydon"        ,      "3136"),
c("Croydon+Hills"  ,      "3136"),
c("Croydon+North"  ,      "3136"),
c("Croydon+South"  ,      "3136"),
c("Heathmont"      ,      "3135"),
c("Kilsyth+South"  ,      "3137"),
c("Ringwood"       ,      "3134"),
c("Ringwood+East"  ,      "3135"),
c("Ringwood+North" ,      "3134"),
c("Warranwood"     ,      "3134")),
KNOX = list(
c("Bayswater"           , "3153"),
c("Boronia"             , "3155"),
c("Ferntree+Gully"      , "3156"),
c("Knoxfield"           , "3180"),
c("Lysterfield"         , "3156"),
c("Rowville"            , "3178"),
c("Scoresby"            , "3179"),
c("The+Basin"           , "3154"),
c("Upper+Ferntree+Gully", "3156"),
c("Wantirna"            , "3152"),
c("Wantirna+South"      , "3152")),
WHITEHORSE = list(
c("Blackburn"      ,      "3130"),
c("Blackburn+North",      "3130"),
c("Blackburn+South",      "3130"),
c("Box+Hill"       ,      "3128"),
c("Box+Hill+North" ,      "3129"),
c("Box+Hill+South" ,      "3128"),
c("Burwood"        ,      "3125"),
c("Burwood+East"   ,      "3151"),
c("Forest+Hill"    ,      "3131"),
c("Mitcham"        ,      "3132"),
c("Mont+Albert"    ,      "3127"),
c("Nunawading"     ,      "3131"),
c("Surrey+Hills"   ,      "3127"),
c("Vermont"        ,      "3133"),
c("Vermont+South"  ,      "3133")),
BOROONDARA = list(
c("Ashburton"        ,    "3147"),
c("Balwyn"           ,    "3103"),
c("Balwyn+North"     ,    "3104"),
c("Camberwell"       ,    "3124"),
c("Canterbury"       ,    "3126"),
c("Deepdene"         ,    "3103"),
c("Glen+Iris"        ,    "3146"),
c("Hawthorn"         ,    "3122"),
c("Hawthorn+East"    ,    "3123"),
c("Kew"              ,    "3101"),
c("Kew+East"         ,    "3102"),
c("Mont+Albert"      ,    "3127"),
c("Mont+Albert+North",    "3127"),
c("Surrey+Hills"     ,    "3127")),
BANYULE = list(
c("Bellfield"          ,  "3081"),
c("Briar+Hill"         ,  "3088"),
c("Bundoora"           ,  "3083"),
c("Eaglemont"          ,  "3084"),
c("Eltham"             ,  "3095"),
c("Eltham+North"       ,  "3095"),
c("Greensborough"      ,  "3088"),
c("Heidelberg"         ,  "3084"),
c("Heidelberg+Heights" ,  "3081"),
c("Heidelberg+West"    ,  "3081"),
c("Ivanhoe"            ,  "3079"),
c("Ivanhoe+East"       ,  "3079"),
c("Lower+Plenty"       ,  "3093"),
c("Macleod"            ,  "3085"),
c("Montmorency"        ,  "3094"),
c("Rosanna"            ,  "3084"),
c("St+Helena"          ,  "3088"),
c("Viewbank"           ,  "3084"),
c("Watsonia"           ,  "3087"),
c("Watsonia+North"     ,  "3087"),
c("Yallambie"          ,  "3085")),
DAREBIN = list(
c("Alphington"         ,  "3078"),
c("Bundoora"           ,  "3083"),
c("Fairfield"          ,  "3078"),
c("Kingsbury"          ,  "3083"),
c("Macleod"            ,  "3085"),
c("Northcote"          ,  "3070"),
c("Preston"            ,  "3072"),
c("Reservoir"          ,  "3073"),
c("Thornbury"          ,  "3071"))
)
usethis::use_data(STA3LM_suburbs_by_council)
rm(list=ls())
STA3LM_suburbs_by_council
library(realscrape)
STA3LM_suburbs_by_council
data <- data.frame()
for ( council in names( STA3LM_suburbs_by_council )  ) {
for ( suburb in suburbs_by_council[[ council ]] ) {
data <- suburb %>%
scrape_suburb() %>%
rbind(data)
}
}
sbc <- STA3LM_suburbs_by_council
data <- data.frame()
sbc <- STA3LM_suburbs_by_council
for ( council in names( sbc )  ) {
for ( suburb in sbc[[ council ]] ) {
data <- suburb %>%
scrape_suburb() %>%
rbind(data)
}
}
data
length(sbc)
lapply(sbc, length)
sum(unlist(lapply(sbc, length)))
library(realscrape)
sbc <- STA3LM_suburbs_by_council
data <- scrape_sbc( sbc )
scrape_sbc <- function( sbc ) {
data <- data.frame()
for ( council in names( sbc )  ) {
for ( suburb in sbc[[ council ]] ) {
data <- suburb %>%
scrape_suburb() %>%
rbind(data)
data$suburb <- suburb[1]
data$postcode <- suburb[2]
}
data$council <- council
}
}
data <- scrape_sbc( sbc )
sbc <- STA3LM_suburbs_by_council
data <- scrape_sbc( sbc )
scrape_sbc <- function( sbc ) {
data <- data.frame()
for ( council in names( sbc )  ) {
for ( suburb in sbc[[ council ]] ) {
sub_data          <- scrape_suburb(suburb)
sub_data$suburb   <- suburb[1]
sub_data$postcode <- suburb[2]
sub_data$council  <- council
data <- rbind(data, sub_data)
}
}
}
data <- scrape_sbc( sbc )
data
scrape_sbc <- function( sbc ) {
data <- data.frame()
for ( council in names( sbc )  ) {
for ( suburb in sbc[[ council ]] ) {
sub_data          <- scrape_suburb(suburb)
sub_data$suburb   <- suburb[1]
sub_data$postcode <- suburb[2]
sub_data$council  <- council
data <- rbind(data, sub_data)
}
}
return(data)
}
data <- scrape_sbc( sbc )
data
